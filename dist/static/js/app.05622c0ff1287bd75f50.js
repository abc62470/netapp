webpackJsonp([1],{"2L6o":function(t,e){},"9aU3":function(t,e){},Bjvs:function(t,e){},GOOd:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fold"}},[e("router-view",{staticClass:"view"})],1),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.isMaskShow,expression:"isMaskShow"}],staticClass:"mask",on:{touchmove:function(t){t.preventDefault()}}},[e("span",{staticClass:"mask-text"},[this._v("Loading ...")])])],1)},staticRenderFns:[]},n=s("VU/8")({computed:{isMaskShow:function(){return this.$store.state.isMaskShow}}},a,!1,function(t){s("RaL4")},"data-v-3556533a",null).exports,o=s("/ocq"),r={data:function(){return{name:"",avater:""}},props:{user:Object},created:function(){this.getUserData()},computed:{soId:function(){return this.$store.state.id}},methods:{getUserData:function(){var t=this;this.$http.get(this.API_URL+"/userData.json").then(function(e){console.log(e),console.log("成功"),t.name=e.data.name,t.avater=e.data.avater},function(t){console.log(t),console.log("失败")})}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:this.avater,alt:"",width:"35",height:"35"}})]),this._v(" "),e("div",{staticClass:"soNum"},[this._v("\n\t\t"+this._s(this.soId)+"\n\t")]),this._v(" "),e("router-link",{staticClass:"search",attrs:{to:"/Search"}},[e("i",{staticClass:"netappIcon icon-search"})])],1)},staticRenderFns:[]},l=s("VU/8")(r,c,!1,function(t){s("2L6o")},"data-v-83ec6382",null).exports,u=s("porf"),h=s.n(u),m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab"},[s("router-link",{staticClass:"tab-item",attrs:{to:"/ServiceDesc"}},[s("i",{staticClass:"netappIcon icon-tab-list-1"}),t._v(" "),s("p",[t._v("Service Desc")])]),t._v(" "),s("router-link",{staticClass:"tab-item",attrs:{to:"/ETAOnsite"}},[s("i",{staticClass:"netappIcon icon-tab-check"}),t._v(" "),s("p",[t._v("ETA/Onsite")])]),t._v(" "),s("router-link",{staticClass:"tab-item",attrs:{to:"/RepairInfo"}},[s("i",{staticClass:"netappIcon icon-tab-edit"}),t._v(" "),s("p",[t._v("Repair Info")])]),t._v(" "),s("router-link",{staticClass:"tab-item",attrs:{to:"/Complete"}},[s("i",{staticClass:"netappIcon icon-tab-list-2"}),t._v(" "),s("p",[t._v("Complete")])])],1)},staticRenderFns:[]},d=function(t){s("s8CV")},v={data:function(){return{}},created:function(){this.getSoData()},methods:{getSoData:function(){var t=this,e=this.$store.state.id,s=localStorage.id;e!=s&&void 0!=s&&this.$http.get(this.API_URL+"/soData.json").then(function(e){var i=e.data.so.filter(function(t){return t.soNo.includes(s)})[0];t.$store.state.id=s,t.$store.state.soData=i,t.$store.state.isInfo=!0,console.log("get")}).catch(function(t){console.log(t)})}},components:{vHeader:l,vTab:s("VU/8")(h.a,m,!1,d,"data-v-7c059608",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("vHeader"),this._v(" "),e("router-view",{staticClass:"container"}),this._v(" "),e("vTab")],1)},staticRenderFns:[]},f=s("VU/8")(v,p,!1,function(t){s("9aU3")},"data-v-5d0c5872",null).exports,_=s("Dd8w"),g=s.n(_),C=s("NYxO"),D={data:function(){return{filter:["soNo","contactPerson","customer","address"]}},computed:g()({},Object(C.b)({soData:function(t){return t.soData}}),{isInfo:function(){return console.log(this.$store.state.isInfo),this.$store.state.isInfo}}),methods:{soDataFilter:function(t){return this.filter.every(function(e){return!(t==e)})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"service-container"},[t.isInfo?s("div",[s("div",{staticClass:"customer-top"},[s("div",{staticClass:"customer-soId"},[t._v("\n\t\t    \t\t"+t._s(t.soData.soNo)+"\n\t\t    \t")]),t._v(" "),s("div",{staticClass:"customer-nameMain"},[s("div",{staticClass:"name"},[t._v(t._s(t.soData.contactPerson))]),t._v(" "),s("div",{staticClass:"code"},[t._v(t._s(t.soData.customer))])]),t._v(" "),s("router-link",{staticClass:"customer-address",attrs:{to:"/Map"}},[s("div",{staticClass:"text"},[t._v("\n\t\t    \t\t\t"+t._s(t.soData.address)+"\n\t\t    \t\t")]),t._v(" "),s("i",{staticClass:"netappIcon icon-greater-than"})])],1),t._v(" "),s("div",{staticClass:"hr"}),t._v(" "),s("div",{staticClass:"customer-info"},t._l(t.soData,function(e,i){return t.soDataFilter(i)?s("div",{staticClass:"info-main"},[s("div",{staticClass:"key"},[t._v(t._s(i))]),t._v(" "),s("div",{staticClass:"value"},[t._v(t._s(e))])]):t._e()}))]):t._e()])},staticRenderFns:[]},T=s("VU/8")(D,b,!1,function(t){s("GOOd")},"data-v-325eb235",null).exports,I={data:function(){return{monthEN:["January","February","March","April","May","June","July","August","September","October","November","December"],selectVal:"",appointmentMask:!1,isOnsiteDisable:!0,isOnsiteAction:!0,appointmentTime:{date:"",month:"",fullYear:"",hours:"",minutes:""},onsiteTime:{date:"",month:"",fullYear:"",hours:"",minutes:""},currentTime:""}},created:function(){this.init()},watch:{soDataAppointmentTime:function(){this.init()}},computed:{isAppointmentAction:function(){return!this.selectVal},soDataAppointmentTime:function(){return this.$store.state.soData.appointmentTime}},methods:{init:function(){var t=this;console.log("this.$store.state.soData.appointmentTime"),this.$store.state.soData.appointmentTime&&(this.appointmentMask=!0,this.selectVal=this.$store.state.soData.appointmentTime,this.getAppointmentTime()),this.isOnsiteDisable=!this.selectVal,this.isOnsiteAction=!this.$store.state.soData.onsiteTime,this.getOnsiteTime(),this.getCurrentTime(),setInterval(function(){t.getOnsiteTime(),t.getCurrentTime()},5e3)},isOutDate:function(){if(this.selectVal){var t=(new Date).getTime(),e=this.toDate(this.selectVal).getTime();if(this.appointmentMask=!1,t>e)this.selectVal="",alert("不能设置为过去的时间");else{var s="是否设置预约时间为\n"+this.selectVal.substring(0,16).replace(/T/g," ")+"?\n确定后将会无法更改预约时间。";confirm(s)?(this.isOnsiteDisable=!1,this.$store.state.soData.appointmentTime=this.selectVal.substring(0,16)):this.selectVal=""}}},getTime:function(){var t=new Date;return{date:t.getDate(),month:this.monthEN[t.getMonth()],fullYear:t.getFullYear(),hours:t.getHours(),minutes:t.getMinutes()}},toDate:function(t){var e=new Date;return e.setFullYear(parseInt(t.substring(0,4))),e.setMonth(parseInt(t.substring(5,7))-1),e.setDate(parseInt(t.substring(8,10))),e.setHours(parseInt(t.substring(11,13))),e.setMinutes(parseInt(t.substring(14,16))),e},doubleDigits:function(t){return("0"+t).slice(-2)},getAppointmentTime:function(){var t=this.toDate(this.selectVal);this.appointmentTime.date=t.getDate(),this.appointmentTime.month=this.monthEN[t.getMonth()],this.appointmentTime.fullYear=t.getFullYear(),this.appointmentTime.hours=this.doubleDigits(t.getHours()),this.appointmentTime.minutes=this.doubleDigits(t.getMinutes())},getOnsiteTime:function(){this.onsiteTime.date=this.getTime().date,this.onsiteTime.month=this.getTime().month,this.onsiteTime.fullYear=this.getTime().fullYear,this.onsiteTime.hours=this.doubleDigits(this.getTime().hours),this.onsiteTime.minutes=this.doubleDigits(this.getTime().minutes)},getCurrentTime:function(){var t=new Date,e={};e.date=t.getDate(),e.month=this.doubleDigits(t.getMonth()+1),e.fullYear=t.getFullYear(),e.hours=this.doubleDigits(t.getHours()),e.minutes=this.doubleDigits(t.getMinutes()),this.currentTime=e.fullYear+"-"+e.month+"-"+e.date+"T"+e.hours+":"+e.minutes},submit:function(){if(!this.isOnsiteDisable&&this.isOnsiteAction){confirm("是否确认签到？")&&(this.isOnsiteAction=!1,this.$store.state.soData.onsiteTime=this.currentTime)}}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"eat-container"},[s("div",{staticClass:"eat-view"},[s("div",{staticClass:"appointment"},[t.selectVal?s("div",{staticClass:"appointment-main"},[s("div",{staticClass:"title"},[t._v("Appointment")]),t._v(" "),s("div",{staticClass:"date"},[t._v(t._s(t.appointmentTime.month)+" "+t._s(t.appointmentTime.date)+" "+t._s(t.appointmentTime.fullYear))]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.appointmentTime.hours)+" : "+t._s(t.appointmentTime.minutes))])]):t._e(),t._v(" "),t.selectVal?t._e():s("div",{staticClass:"appointment-main"},[s("div",{staticClass:"title"},[t._v("Appointment")]),t._v(" "),s("div",{staticClass:"date invisible"},[t._v("...")]),t._v(" "),s("div",{staticClass:"time invisible"},[t._v("...")])]),t._v(" "),t._m(0,!1,!1),t._v(" "),s("div",{staticClass:"mask-dateTime"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectVal,expression:"selectVal"}],attrs:{type:"datetime-local",disabled:!t.isAppointmentAction},domProps:{value:t.selectVal},on:{change:t.getAppointmentTime,focus:function(e){t.appointmentMask=!0},blur:t.isOutDate,input:function(e){e.target.composing||(t.selectVal=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"onsite",class:{disabled:t.isOnsiteDisable},on:{click:t.submit}},[s("div",{staticClass:"onsite-main"},[s("div",{staticClass:"title"},[t._v("Onsite")]),t._v(" "),s("div",{staticClass:"date"},[t._v(t._s(t.onsiteTime.month)+" "+t._s(t.onsiteTime.date)+" "+t._s(t.onsiteTime.fullYear))]),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.onsiteTime.hours)+" : "+t._s(t.onsiteTime.minutes)+" (Current)")])]),t._v(" "),t._m(1,!1,!1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-main valignCenter"},[e("i",{staticClass:"netappIcon icon-greater-than"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-main valignCenter"},[e("i",{staticClass:"netappIcon icon-greater-than"})])}]},w=s("VU/8")(I,A,!1,function(t){s("OT4X")},"data-v-d359141a",null).exports,$=s("zTPO"),k=s.n($),M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Repair Info")])},staticRenderFns:[]},O=function(t){s("Bjvs")},S=s("VU/8")(k.a,M,!1,O,null,null).exports,V=s("ZeHC"),x=s.n(V),E={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Complete")])},staticRenderFns:[]},R=function(t){s("tAhj")},U=s("VU/8")(x.a,E,!1,R,null,null).exports,F={data:function(){return{title:"查询列表",search:"",listDatas:[]}},created:function(){this.getListData()},computed:{searchData:function(){var t=this;return this.search?this.listDatas.filter(function(e){return e.number.toLowerCase().includes(t.search)}):this.listDatas}},methods:{getListData:function(){var t=this;this.$http.get(this.API_URL+"/listData.json").then(function(e){t.listDatas=e.data.list},function(t){console.log(t)})},getSoId:function(t){localStorage.id=t,this.$router.push({path:"/ServiceDesc"})},back:function(){this.$router.go(-1)}}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-container"},[s("div",{staticClass:"search-header"},[s("div",{staticClass:"left",on:{click:t.back}},[s("i",{staticClass:"netappIcon icon-left"})]),t._v(" "),s("div",{staticClass:"title"},[t._v("\n            "+t._s(t.title)+"\n        ")]),t._v(" "),s("div",{staticClass:"right"})]),t._v(" "),s("div",{staticClass:"search-main"},[s("i",{staticClass:"netappIcon icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search-text",attrs:{type:"text",placeholder:"请输入Vendor No."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"list-main"},t._l(t.searchData,function(e){return s("div",{staticClass:"list-content clearfix",on:{click:function(s){t.getSoId(e.number)}}},[s("div",{staticClass:"list-number"},[t._v(t._s(e.number))]),t._v(" "),s("div",{staticClass:"list-user"},[t._v(t._s(e.user))]),t._v(" "),s("div",{staticClass:"list-map"},[t._v(t._s(e.map))])])}))])},staticRenderFns:[]},P=s("VU/8")(F,N,!1,function(t){s("iz4H")},"data-v-3927b722",null).exports,Y=s("//Fk"),y=s.n(Y),H={data:function(){return{title:"地图",address:"",distance:""}},computed:{},created:function(){this.map(),this.saveAddress()},beforeDestroy:function(){this.removeAddress()},methods:{back:function(){this.$router.go(-1)},saveAddress:function(){localStorage.address||(localStorage.address=this.$store.state.soData.address),this.address=localStorage.address},removeAddress:function(){localStorage.removeItem("address")},map:function(){var t=this,e=this;this.$nextTick(function(){console.log(t.address);var s=new BMap.Map("allmap",{enableMapClick:!1}),i=new BMap.Point(116.331398,39.897445);s.centerAndZoom(i,12),s.enableScrollWheelZoom(!0);var a,n,o=new BMap.Geolocation,r=new BMap.Geocoder;y.a.all([new y.a(function(t,i){r.getPoint(e.address,function(e){e?(s.centerAndZoom(e,16),s.addOverlay(new BMap.Marker(e)),n=e,t()):alert("没有搜索到结果!")})}),new y.a(function(t,e){o.getCurrentPosition(function(e){this.getStatus()==BMAP_STATUS_SUCCESS?(a=e.point,t()):a=!1},{enableHighAccuracy:!0})})]).then(function(){a&&n&&(e.distance=s.getDistance(a,n).toFixed(0)/1e3+"KM")}),setTimeout(function(){console.log(n),console.log(a)},3e3)})}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map-container"},[e("div",{staticClass:"map-header"},[e("div",{staticClass:"left",on:{click:this.back}},[e("i",{staticClass:"netappIcon icon-left"})]),this._v(" "),e("div",{staticClass:"title"},[this._v("\n            "+this._s(this.title)+"\n        ")]),this._v(" "),e("div",{staticClass:"right"})]),this._v(" "),e("div",{staticClass:"map",attrs:{id:"allmap"}}),this._v(" "),e("div",{staticClass:"map-info"},[e("div",{staticClass:"address valignCenter"},[e("i",{staticClass:"netappIcon icon-mappin"}),this._v(this._s(this.address)+"\n         ")]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.distance,expression:"distance"}],staticClass:"distance"},[e("i",{staticClass:"netappIcon icon-cc-location"}),this._v(this._s(this.distance)+"\n         ")])])])},staticRenderFns:[]},j=s("VU/8")(H,L,!1,function(t){s("NKQb")},"data-v-6f281bb9",null).exports;i.a.use(o.a);var B=new o.a({linkExactActiveClass:"active",routes:[{path:"/",redirect:"/ServiceDesc"},{path:"/Home",name:"home",component:f,children:[{path:"/ServiceDesc",name:"ServiceDesc",component:T},{path:"/ETAOnsite",name:"ETAOnsite",component:w},{path:"/RepairInfo",name:"RepairInfo",component:S},{path:"/Complete",name:"Complete",component:U}]},{path:"/Search",name:"Search",component:P},{path:"/Map",name:"map",component:j}]});i.a.use(C.a);var Z=new C.a.Store({state:{id:"请选择SO单",isMaskShow:!1,isInfo:!1,soData:{}}}),z=s("mtWM"),G=s.n(z);s("gERx");i.a.prototype.$http=G.a,i.a.prototype.API_URL="https://abc62470.github.io/netapp/static/data",i.a.config.productionTip=!1;var J=new i.a({el:"#app",router:B,store:Z,template:"<App/>",components:{App:n}});console.log(J)},NKQb:function(t,e){},OT4X:function(t,e){},RaL4:function(t,e){},ZeHC:function(t,e){},gERx:function(t,e){},iz4H:function(t,e){},porf:function(t,e){},s8CV:function(t,e){},tAhj:function(t,e){},zTPO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.05622c0ff1287bd75f50.js.map